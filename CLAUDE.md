# Claude Code Configuration

## 🎯 Development Mode Settings

**現在慎重モード** 
<!-- 現在高速モード / 現在慎重モード のどちらかを記載 -->

### モード切り替え方法
```
# 高速モードに切り替え
"高速モードに切り替えて"

# 慎重モードに切り替え  
"慎重モードに切り替えて"
```

**モード切り替え時は、Claude が CLAUDE.md の「現在○○モード」部分を自動更新します**

### 🚀 高速モード (Fast Development Mode)
- ソースコード変更を確認なしで実行
- アイデアを素早く形にすることを優先
- 複数の修正を連続して適用
- エラーが出たら修正して継続
- **DRY原則は必ず厳守**（速度重視でも重複コードは作らない）

### 🔍 慎重モード (Careful Development Mode)  
- ソースコード変更前に毎回確認を求める
- 一つずつ丁寧に変更内容を説明
- ユーザーの承認後に変更を実行
- 重要な修正や本番環境では必須

### Claude Code 標準の確認動作

#### 🔒 常に確認が必要な操作（モードに関係なく）
- **危険なコマンド**: `rm -rf`, `sudo`, `chmod +x` など
- **Git操作**: `git push`, `git reset --hard`, `git clean -fd`
- **パッケージインストール**: `npm install`, `pip install` 
- **環境変数の変更**: `.env` ファイルの編集
- **データベース操作**: DROP, DELETE, TRUNCATE など
- **ファイル削除**: 既存ファイルの削除

#### ⚡ 高速モードで確認をスキップする操作
- **ファイル作成・編集**: 新規ファイル作成、既存ファイルの修正
- **TypeScript/JavaScript**: コード追加・修正
- **設定ファイル**: package.json, tsconfig.json の更新
- **ドキュメント**: README, CLAUDE.md の更新
- **開発用コマンド**: `bun dev`, `npm test`

#### 🔍 慎重モードで追加確認する操作
- **全てのファイル編集**: 内容を説明してから実行
- **コマンド実行**: 実行内容を説明してから実行
- **複数ファイル一括変更**: 影響範囲を説明してから実行

#### 📋 確認メッセージの例
```
慎重モード時:
「app.ts に Discord EOA 機能を追加します。
 - 新しいエンドポイント /discord/member/:userId を追加
 - DynamoDB から EOA 情報を取得する処理を追加
実行してよろしいですか？」

高速モード時:
（確認なしで即座に実行）
```

## 🔄 DRY原則の厳守 (Don't Repeat Yourself)

### 基本方針
- **コードの重複を避ける**: 同じロジックが複数箇所にある場合は共通化を検討
- **再利用可能なコンポーネント**: 関数・モジュール・クラスを作成
- **設定値の一元管理**: マジックナンバーや文字列は定数として定義
- **共通処理の抽出**: ユーティリティ関数やヘルパー関数として独立

### 実装指針
- 3回以上同じコードが出現したら必ず共通化
- 設定値は `constants/` や `config/` ディレクトリに集約
- 共通処理は `utils/` や `helpers/` ディレクトリに配置
- コンポーネントは再利用を前提とした設計
